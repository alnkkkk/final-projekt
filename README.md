
# Kino Bot — оценка фильмов по ссылке Кинопоиска

Телеграм‑бот для итогового проекта: по ссылке вида  
`https://www.kinopoisk.ru/film/535341/` бот возвращает название фильма,
год и рейтинг Кинопоиска (через API `kinopoisk.dev`), а также даёт
короткий вердикт и кнопку «Открыть на Кинопоиске».

## Функциональность

- Парсинг ссылки Кинопоиска, извлечение ID фильма.
- Запрос к API `api.kinopoisk.dev` по ID фильма.
- Форматированный ответ:
  - название и год;
  - рейтинг Кинопоиска;
  - текстовая оценка (обязателен к просмотру / крепкий фильм / на любителя);
  - кнопка с ссылкой на оригинальную страницу Кинопоиска.
- Сохранение истории запросов в SQLite (`history.db`).
- Команда `/stats` — краткая статистика запросов.

## Установка и запуск

1. Клонировать репозиторий и перейти в папку проекта:

   ```bash
   git clone <your-repo-url>.git
   cd <project-folder>
   ```

2. Создать и активировать виртуальное окружение (рекомендуется):

   ```bash
   python3 -m venv venv
   source venv/bin/activate  # для Windows: venv\Scripts\activate
   ```

3. Установить зависимости:

   ```bash
   pip install -r requirements.txt
   ```

4. Создать файл `.env` и указать в нём токены:

   ```env
   BOT_TOKEN=ваш_телеграм_бот_токен
   KP_API_KEY=ваш_kinopoisk_dev_api_key
   ```

5. Запустить бота:

   ```bash
   python3 bot.py
   ```

## Использование

- Отправьте боту ссылку на фильм Кинопоиска:

  ```
  https://www.kinopoisk.ru/film/535341/
  ```

- Бот ответит:
  - названием фильма и годом;
  - рейтингом Кинопоиска;
  - коротким вердиктом;
  - кнопкой для открытия фильма на Кинопоиске.

Дополнительные команды:

- `/start` — приветствие и краткая инструкция;
- `/help` — справка;
- `/stats` — простая статистика по запросам.

## Замечания по безопасности

- Файл `.env` с токенами **не должен попадать в репозиторий**.
- В `.gitignore` рекомендуется добавить строки:

  ```
  .env
  venv/
  __pycache__/
  *.pyc
  history.db
  ```

